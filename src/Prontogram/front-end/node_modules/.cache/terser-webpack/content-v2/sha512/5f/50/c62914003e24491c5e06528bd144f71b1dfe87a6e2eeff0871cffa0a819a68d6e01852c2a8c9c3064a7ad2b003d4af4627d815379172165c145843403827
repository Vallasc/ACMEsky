{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{jcJX:function(r,e,n){\"use strict\";n.r(e),n.d(e,\"AccountModule\",(function(){return N}));var t=n(\"3Pt+\"),i=n(\"ofXK\"),o=n(\"tyNb\"),s=n(\"J9tS\"),b=n(\"fXoL\");let a=(()=>{class r{constructor(r,e){this.router=r,this.accountService=e,this.accountService.userValue&&this.router.navigate([\"/\"])}}return r.\\u0275fac=function(e){return new(e||r)(b.Ib(o.c),b.Ib(s.a))},r.\\u0275cmp=b.Cb({type:r,selectors:[[\"ng-component\"]],decls:2,vars:0,consts:[[1,\"col-md-6\",\"offset-md-3\",\"mt-5\"]],template:function(r,e){1&r&&(b.Lb(0,\"div\",0),b.Jb(1,\"router-outlet\"),b.Kb())},directives:[o.g],encapsulation:2}),r})();var c=n(\"SxV6\");function d(r,e){1&r&&(b.Lb(0,\"div\"),b.fc(1,\"Username obbligatorio\"),b.Kb())}function u(r,e){if(1&r&&(b.Lb(0,\"div\",14),b.ec(1,d,2,0,\"div\",15),b.Kb()),2&r){const r=b.Ub();b.xb(1),b.Vb(\"ngIf\",r.f.username.errors.required)}}function f(r,e){1&r&&(b.Lb(0,\"div\"),b.fc(1,\"Password obbligatoria\"),b.Kb())}function m(r,e){if(1&r&&(b.Lb(0,\"div\",14),b.ec(1,f,2,0,\"div\",15),b.Kb()),2&r){const r=b.Ub();b.xb(1),b.Vb(\"ngIf\",r.f.password.errors.required)}}function l(r,e){1&r&&b.Jb(0,\"span\",16)}const g=function(r){return{\"is-invalid\":r}};function p(r,e){1&r&&(b.Lb(0,\"div\"),b.fc(1,\"Nome obbligatorio\"),b.Kb())}function v(r,e){if(1&r&&(b.Lb(0,\"div\",18),b.ec(1,p,2,0,\"div\",19),b.Kb()),2&r){const r=b.Ub();b.xb(1),b.Vb(\"ngIf\",r.f.name.errors.required)}}function h(r,e){1&r&&(b.Lb(0,\"div\"),b.fc(1,\"Cognome obbligatorio\"),b.Kb())}function L(r,e){if(1&r&&(b.Lb(0,\"div\",18),b.ec(1,h,2,0,\"div\",19),b.Kb()),2&r){const r=b.Ub();b.xb(1),b.Vb(\"ngIf\",r.f.secondName.errors.required)}}function K(r,e){1&r&&(b.Lb(0,\"div\"),b.fc(1,\"Username is required\"),b.Kb())}function I(r,e){if(1&r&&(b.Lb(0,\"div\",18),b.ec(1,K,2,0,\"div\",19),b.Kb()),2&r){const r=b.Ub();b.xb(1),b.Vb(\"ngIf\",r.f.username.errors.required)}}function w(r,e){1&r&&(b.Lb(0,\"div\"),b.fc(1,\"Password is required\"),b.Kb())}function x(r,e){1&r&&(b.Lb(0,\"div\"),b.fc(1,\"PLa password deve essere almeno di 6 caratteri\"),b.Kb())}function V(r,e){if(1&r&&(b.Lb(0,\"div\",18),b.ec(1,w,2,0,\"div\",19),b.ec(2,x,2,0,\"div\",19),b.Kb()),2&r){const r=b.Ub();b.xb(1),b.Vb(\"ngIf\",r.f.password.errors.required),b.xb(1),b.Vb(\"ngIf\",r.f.password.errors.minlength)}}function C(r,e){1&r&&b.Jb(0,\"span\",20)}const S=function(r){return{\"is-invalid\":r}},y=[{path:\"\",component:a,children:[{path:\"login\",component:(()=>{class r{constructor(r,e,n,t,i){this.formBuilder=r,this.route=e,this.router=n,this.accountService=t,this.alertService=i,this.loading=!1,this.submitted=!1}ngOnInit(){this.form=this.formBuilder.group({username:[\"\",t.h.required],password:[\"\",t.h.required]})}get f(){return this.form.controls}onSubmit(){this.submitted=!0,this.alertService.clear(),this.form.invalid||(this.loading=!0,this.accountService.login(this.f.username.value,this.f.password.value).pipe(Object(c.a)()).subscribe({next:()=>{this.router.navigateByUrl(this.route.snapshot.queryParams.returnUrl||\"/\")},error:r=>{this.alertService.error(r),this.loading=!1}}))}}return r.\\u0275fac=function(e){return new(e||r)(b.Ib(t.b),b.Ib(o.a),b.Ib(o.c),b.Ib(s.a),b.Ib(s.b))},r.\\u0275cmp=b.Cb({type:r,selectors:[[\"ng-component\"]],decls:23,vars:11,consts:[[\"align\",\"center\"],[1,\"card\"],[1,\"card-header\"],[1,\"card-body\"],[3,\"formGroup\",\"ngSubmit\"],[1,\"form-group\"],[\"for\",\"username\"],[\"type\",\"text\",\"formControlName\",\"username\",1,\"form-control\",3,\"ngClass\"],[\"class\",\"invalid-feedback\",4,\"ngIf\"],[\"for\",\"password\"],[\"type\",\"password\",\"formControlName\",\"password\",1,\"form-control\",3,\"ngClass\"],[1,\"btn\",\"btn-primary\",3,\"disabled\"],[\"class\",\"spinner-border spinner-border-sm mr-1\",4,\"ngIf\"],[\"routerLink\",\"../register\",1,\"btn\",\"btn-link\"],[1,\"invalid-feedback\"],[4,\"ngIf\"],[1,\"spinner-border\",\"spinner-border-sm\",\"mr-1\"]],template:function(r,e){1&r&&(b.Lb(0,\"h4\",0),b.fc(1,\"Benvenuto in Prontogram!\"),b.Kb(),b.Lb(2,\"div\",1),b.Lb(3,\"h4\",2),b.fc(4,\"Login\"),b.Kb(),b.Lb(5,\"div\",3),b.Lb(6,\"form\",4),b.Sb(\"ngSubmit\",(function(){return e.onSubmit()})),b.Lb(7,\"div\",5),b.Lb(8,\"label\",6),b.fc(9,\"Username\"),b.Kb(),b.Jb(10,\"input\",7),b.ec(11,u,2,1,\"div\",8),b.Kb(),b.Lb(12,\"div\",5),b.Lb(13,\"label\",9),b.fc(14,\"Password\"),b.Kb(),b.Jb(15,\"input\",10),b.ec(16,m,2,1,\"div\",8),b.Kb(),b.Lb(17,\"div\",5),b.Lb(18,\"button\",11),b.ec(19,l,1,0,\"span\",12),b.fc(20,\" Login \"),b.Kb(),b.Lb(21,\"a\",13),b.fc(22,\"Registrati\"),b.Kb(),b.Kb(),b.Kb(),b.Kb(),b.Kb()),2&r&&(b.xb(6),b.Vb(\"formGroup\",e.form),b.xb(4),b.Vb(\"ngClass\",b.Yb(7,g,e.submitted&&e.f.username.errors)),b.xb(1),b.Vb(\"ngIf\",e.submitted&&e.f.username.errors),b.xb(4),b.Vb(\"ngClass\",b.Yb(9,g,e.submitted&&e.f.password.errors)),b.xb(1),b.Vb(\"ngIf\",e.submitted&&e.f.password.errors),b.xb(2),b.Vb(\"disabled\",e.loading),b.xb(1),b.Vb(\"ngIf\",e.loading))},directives:[t.i,t.f,t.d,t.a,t.e,t.c,i.h,i.j,o.e],encapsulation:2}),r})()},{path:\"register\",component:(()=>{class r{constructor(r,e,n,t,i){this.formBuilder=r,this.route=e,this.router=n,this.accountService=t,this.alertService=i,this.loading=!1,this.submitted=!1}ngOnInit(){this.form=this.formBuilder.group({name:[\"\",t.h.required],secondName:[\"\",t.h.required],username:[\"\",t.h.required],password:[\"\",[t.h.required,t.h.minLength(6)]]})}get f(){return this.form.controls}onSubmit(){this.submitted=!0,this.alertService.clear(),this.form.invalid||(this.loading=!0,this.accountService.register(this.form.value).pipe(Object(c.a)()).subscribe({next:()=>{this.alertService.success(\"Registration successful\",{keepAfterRouteChange:!0}),this.router.navigate([\"../login\"],{relativeTo:this.route})},error:r=>{this.alertService.error(r),this.loading=!1}}))}}return r.\\u0275fac=function(e){return new(e||r)(b.Ib(t.b),b.Ib(o.a),b.Ib(o.c),b.Ib(s.a),b.Ib(s.b))},r.\\u0275cmp=b.Cb({type:r,selectors:[[\"ng-component\"]],decls:33,vars:19,consts:[[\"align\",\"center\"],[1,\"card\"],[1,\"card-header\"],[1,\"card-body\"],[3,\"formGroup\",\"ngSubmit\"],[1,\"form-group\"],[\"for\",\"nome\"],[\"type\",\"text\",\"formControlName\",\"name\",1,\"form-control\",3,\"ngClass\"],[\"class\",\"invalid-feedback\",4,\"ngIf\"],[\"for\",\"cognome\"],[\"type\",\"text\",\"formControlName\",\"secondName\",1,\"form-control\",3,\"ngClass\"],[\"for\",\"username\"],[\"type\",\"text\",\"formControlName\",\"username\",1,\"form-control\",3,\"ngClass\"],[\"for\",\"password\"],[\"type\",\"password\",\"formControlName\",\"password\",1,\"form-control\",3,\"ngClass\"],[1,\"btn\",\"btn-primary\",3,\"disabled\"],[\"class\",\"spinner-border spinner-border-sm mr-1\",4,\"ngIf\"],[\"routerLink\",\"../login\",1,\"btn\",\"btn-link\"],[1,\"invalid-feedback\"],[4,\"ngIf\"],[1,\"spinner-border\",\"spinner-border-sm\",\"mr-1\"]],template:function(r,e){1&r&&(b.Lb(0,\"h4\",0),b.fc(1,\"Effettua la registazione per accedere a Prontogram!\"),b.Kb(),b.Lb(2,\"div\",1),b.Lb(3,\"h4\",2),b.fc(4,\"Registazione\"),b.Kb(),b.Lb(5,\"div\",3),b.Lb(6,\"form\",4),b.Sb(\"ngSubmit\",(function(){return e.onSubmit()})),b.Lb(7,\"div\",5),b.Lb(8,\"label\",6),b.fc(9,\"Nome\"),b.Kb(),b.Jb(10,\"input\",7),b.ec(11,v,2,1,\"div\",8),b.Kb(),b.Lb(12,\"div\",5),b.Lb(13,\"label\",9),b.fc(14,\"Cognome\"),b.Kb(),b.Jb(15,\"input\",10),b.ec(16,L,2,1,\"div\",8),b.Kb(),b.Lb(17,\"div\",5),b.Lb(18,\"label\",11),b.fc(19,\"Username\"),b.Kb(),b.Jb(20,\"input\",12),b.ec(21,I,2,1,\"div\",8),b.Kb(),b.Lb(22,\"div\",5),b.Lb(23,\"label\",13),b.fc(24,\"Password\"),b.Kb(),b.Jb(25,\"input\",14),b.ec(26,V,3,2,\"div\",8),b.Kb(),b.Lb(27,\"div\",5),b.Lb(28,\"button\",15),b.ec(29,C,1,0,\"span\",16),b.fc(30,\" Registrazione \"),b.Kb(),b.Lb(31,\"a\",17),b.fc(32,\"Cancella\"),b.Kb(),b.Kb(),b.Kb(),b.Kb(),b.Kb()),2&r&&(b.xb(6),b.Vb(\"formGroup\",e.form),b.xb(4),b.Vb(\"ngClass\",b.Yb(11,S,e.submitted&&e.f.name.errors)),b.xb(1),b.Vb(\"ngIf\",e.submitted&&e.f.name.errors),b.xb(4),b.Vb(\"ngClass\",b.Yb(13,S,e.submitted&&e.f.secondName.errors)),b.xb(1),b.Vb(\"ngIf\",e.submitted&&e.f.secondName.errors),b.xb(4),b.Vb(\"ngClass\",b.Yb(15,S,e.submitted&&e.f.username.errors)),b.xb(1),b.Vb(\"ngIf\",e.submitted&&e.f.username.errors),b.xb(4),b.Vb(\"ngClass\",b.Yb(17,S,e.submitted&&e.f.password.errors)),b.xb(1),b.Vb(\"ngIf\",e.submitted&&e.f.password.errors),b.xb(2),b.Vb(\"disabled\",e.loading),b.xb(1),b.Vb(\"ngIf\",e.loading))},directives:[t.i,t.f,t.d,t.a,t.e,t.c,i.h,i.j,o.e],encapsulation:2}),r})()}]}];let q=(()=>{class r{}return r.\\u0275mod=b.Gb({type:r}),r.\\u0275inj=b.Fb({factory:function(e){return new(e||r)},imports:[[o.f.forChild(y)],o.f]}),r})(),N=(()=>{class r{}return r.\\u0275mod=b.Gb({type:r}),r.\\u0275inj=b.Fb({factory:function(e){return new(e||r)},imports:[[i.b,t.g,q]]}),r})()}}]);","extractedComments":[]}