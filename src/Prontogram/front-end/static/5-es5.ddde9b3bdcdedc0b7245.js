!function(){function e(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(r,n,i){return n&&e(r.prototype,n),i&&e(r,i),r}function n(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{jcJX:function(e,i,t){"use strict";t.r(i),t.d(i,"AccountModule",(function(){return Y}));var o,s=t("3Pt+"),b=t("ofXK"),a=t("tyNb"),c=t("J9tS"),f=t("fXoL"),u=((o=function e(r,i){n(this,e),this.router=r,this.accountService=i,this.accountService.userValue&&this.router.navigate(["/"])}).\u0275fac=function(e){return new(e||o)(f.Ib(a.c),f.Ib(c.a))},o.\u0275cmp=f.Cb({type:o,selectors:[["ng-component"]],decls:2,vars:0,consts:[[1,"col-md-6","offset-md-3","mt-5"]],template:function(e,r){1&e&&(f.Lb(0,"div",0),f.Jb(1,"router-outlet"),f.Kb())},directives:[a.g],encapsulation:2}),o),d=t("SxV6");function m(e,r){1&e&&(f.Lb(0,"div"),f.fc(1,"Username obbligatorio"),f.Kb())}function l(e,r){if(1&e&&(f.Lb(0,"div",14),f.ec(1,m,2,0,"div",15),f.Kb()),2&e){var n=f.Ub();f.xb(1),f.Vb("ngIf",n.f.username.errors.required)}}function g(e,r){1&e&&(f.Lb(0,"div"),f.fc(1,"Password obbligatoria"),f.Kb())}function v(e,r){if(1&e&&(f.Lb(0,"div",14),f.ec(1,g,2,0,"div",15),f.Kb()),2&e){var n=f.Ub();f.xb(1),f.Vb("ngIf",n.f.password.errors.required)}}function p(e,r){1&e&&f.Jb(0,"span",16)}var h=function(e){return{"is-invalid":e}};function L(e,r){1&e&&(f.Lb(0,"div"),f.fc(1,"Nome obbligatorio"),f.Kb())}function K(e,r){if(1&e&&(f.Lb(0,"div",18),f.ec(1,L,2,0,"div",19),f.Kb()),2&e){var n=f.Ub();f.xb(1),f.Vb("ngIf",n.f.name.errors.required)}}function w(e,r){1&e&&(f.Lb(0,"div"),f.fc(1,"Cognome obbligatorio"),f.Kb())}function I(e,r){if(1&e&&(f.Lb(0,"div",18),f.ec(1,w,2,0,"div",19),f.Kb()),2&e){var n=f.Ub();f.xb(1),f.Vb("ngIf",n.f.secondName.errors.required)}}function x(e,r){1&e&&(f.Lb(0,"div"),f.fc(1,"Username is required"),f.Kb())}function y(e,r){1&e&&(f.Lb(0,"div"),f.fc(1,"L'username deve essere almeno di 6 caratteri"),f.Kb())}function V(e,r){if(1&e&&(f.Lb(0,"div",18),f.ec(1,x,2,0,"div",19),f.ec(2,y,2,0,"div",19),f.Kb()),2&e){var n=f.Ub();f.xb(1),f.Vb("ngIf",n.f.username.errors.required),f.xb(1),f.Vb("ngIf",n.f.username.errors.minlength)}}function C(e,r){1&e&&(f.Lb(0,"div"),f.fc(1,"Password is required"),f.Kb())}function S(e,r){1&e&&(f.Lb(0,"div"),f.fc(1,"La password deve essere almeno di 6 caratteri"),f.Kb())}function k(e,r){if(1&e&&(f.Lb(0,"div",18),f.ec(1,C,2,0,"div",19),f.ec(2,S,2,0,"div",19),f.Kb()),2&e){var n=f.Ub();f.xb(1),f.Vb("ngIf",n.f.password.errors.required),f.xb(1),f.Vb("ngIf",n.f.password.errors.minlength)}}function q(e,r){1&e&&f.Jb(0,"span",20)}var N,U,J,P,j=function(e){return{"is-invalid":e}},B=[{path:"",component:u,children:[{path:"login",component:(U=function(){function e(r,i,t,o,s){n(this,e),this.formBuilder=r,this.route=i,this.router=t,this.accountService=o,this.alertService=s,this.loading=!1,this.submitted=!1}return r(e,[{key:"ngOnInit",value:function(){this.form=this.formBuilder.group({username:["",s.h.required],password:["",s.h.required]})}},{key:"f",get:function(){return this.form.controls}},{key:"onSubmit",value:function(){var e=this;this.submitted=!0,this.alertService.clear(),this.form.invalid||(this.loading=!0,this.accountService.login(this.f.username.value,this.f.password.value).pipe(Object(d.a)()).subscribe({next:function(){e.router.navigateByUrl(e.route.snapshot.queryParams.returnUrl||"/")},error:function(r){e.alertService.error("Username e/o password errati"),e.loading=!1}}))}}]),e}(),U.\u0275fac=function(e){return new(e||U)(f.Ib(s.b),f.Ib(a.a),f.Ib(a.c),f.Ib(c.a),f.Ib(c.b))},U.\u0275cmp=f.Cb({type:U,selectors:[["ng-component"]],decls:23,vars:11,consts:[["align","center"],[1,"card"],[1,"card-header"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","username"],["type","text","formControlName","username",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","password"],["type","password","formControlName","password",1,"form-control",3,"ngClass"],[1,"btn","btn-primary",3,"disabled"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],["routerLink","../register",1,"btn","btn-link"],[1,"invalid-feedback"],[4,"ngIf"],[1,"spinner-border","spinner-border-sm","mr-1"]],template:function(e,r){1&e&&(f.Lb(0,"h4",0),f.fc(1,"Benvenuto in Prontogram!"),f.Kb(),f.Lb(2,"div",1),f.Lb(3,"h4",2),f.fc(4,"Login"),f.Kb(),f.Lb(5,"div",3),f.Lb(6,"form",4),f.Sb("ngSubmit",(function(){return r.onSubmit()})),f.Lb(7,"div",5),f.Lb(8,"label",6),f.fc(9,"Username"),f.Kb(),f.Jb(10,"input",7),f.ec(11,l,2,1,"div",8),f.Kb(),f.Lb(12,"div",5),f.Lb(13,"label",9),f.fc(14,"Password"),f.Kb(),f.Jb(15,"input",10),f.ec(16,v,2,1,"div",8),f.Kb(),f.Lb(17,"div",5),f.Lb(18,"button",11),f.ec(19,p,1,0,"span",12),f.fc(20," Login "),f.Kb(),f.Lb(21,"a",13),f.fc(22,"Registrati"),f.Kb(),f.Kb(),f.Kb(),f.Kb(),f.Kb()),2&e&&(f.xb(6),f.Vb("formGroup",r.form),f.xb(4),f.Vb("ngClass",f.Yb(7,h,r.submitted&&r.f.username.errors)),f.xb(1),f.Vb("ngIf",r.submitted&&r.f.username.errors),f.xb(4),f.Vb("ngClass",f.Yb(9,h,r.submitted&&r.f.password.errors)),f.xb(1),f.Vb("ngIf",r.submitted&&r.f.password.errors),f.xb(2),f.Vb("disabled",r.loading),f.xb(1),f.Vb("ngIf",r.loading))},directives:[s.i,s.f,s.d,s.a,s.e,s.c,b.h,b.j,a.e],encapsulation:2}),U)},{path:"register",component:(N=function(){function e(r,i,t,o,s){n(this,e),this.formBuilder=r,this.route=i,this.router=t,this.accountService=o,this.alertService=s,this.loading=!1,this.submitted=!1}return r(e,[{key:"ngOnInit",value:function(){this.form=this.formBuilder.group({name:["",s.h.required],secondName:["",s.h.required],username:["",[s.h.required,s.h.minLength(6)]],password:["",[s.h.required,s.h.minLength(6)]]})}},{key:"f",get:function(){return this.form.controls}},{key:"onSubmit",value:function(){var e=this;this.submitted=!0,this.alertService.clear(),this.form.invalid||(this.loading=!0,this.accountService.register(this.form.value).pipe(Object(d.a)()).subscribe({next:function(){e.alertService.success("Ti sei registrato con successo!",{keepAfterRouteChange:!0}),e.router.navigate(["../login"],{relativeTo:e.route})},error:function(){e.alertService.error("Username gi\xe0 esistente"),e.loading=!1}}))}}]),e}(),N.\u0275fac=function(e){return new(e||N)(f.Ib(s.b),f.Ib(a.a),f.Ib(a.c),f.Ib(c.a),f.Ib(c.b))},N.\u0275cmp=f.Cb({type:N,selectors:[["ng-component"]],decls:33,vars:19,consts:[["align","center"],[1,"card"],[1,"card-header"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","nome"],["type","text","formControlName","name",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","cognome"],["type","text","formControlName","secondName",1,"form-control",3,"ngClass"],["for","username"],["type","text","formControlName","username",1,"form-control",3,"ngClass"],["for","password"],["type","password","formControlName","password",1,"form-control",3,"ngClass"],[1,"btn","btn-primary",3,"disabled"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],["routerLink","../login",1,"btn","btn-link"],[1,"invalid-feedback"],[4,"ngIf"],[1,"spinner-border","spinner-border-sm","mr-1"]],template:function(e,r){1&e&&(f.Lb(0,"h4",0),f.fc(1,"Effettua la registazione per accedere a Prontogram!"),f.Kb(),f.Lb(2,"div",1),f.Lb(3,"h4",2),f.fc(4,"Registazione"),f.Kb(),f.Lb(5,"div",3),f.Lb(6,"form",4),f.Sb("ngSubmit",(function(){return r.onSubmit()})),f.Lb(7,"div",5),f.Lb(8,"label",6),f.fc(9,"Nome"),f.Kb(),f.Jb(10,"input",7),f.ec(11,K,2,1,"div",8),f.Kb(),f.Lb(12,"div",5),f.Lb(13,"label",9),f.fc(14,"Cognome"),f.Kb(),f.Jb(15,"input",10),f.ec(16,I,2,1,"div",8),f.Kb(),f.Lb(17,"div",5),f.Lb(18,"label",11),f.fc(19,"Username"),f.Kb(),f.Jb(20,"input",12),f.ec(21,V,3,2,"div",8),f.Kb(),f.Lb(22,"div",5),f.Lb(23,"label",13),f.fc(24,"Password"),f.Kb(),f.Jb(25,"input",14),f.ec(26,k,3,2,"div",8),f.Kb(),f.Lb(27,"div",5),f.Lb(28,"button",15),f.ec(29,q,1,0,"span",16),f.fc(30," Registrati "),f.Kb(),f.Lb(31,"a",17),f.fc(32,"Torna alla pagina di login"),f.Kb(),f.Kb(),f.Kb(),f.Kb(),f.Kb()),2&e&&(f.xb(6),f.Vb("formGroup",r.form),f.xb(4),f.Vb("ngClass",f.Yb(11,j,r.submitted&&r.f.name.errors)),f.xb(1),f.Vb("ngIf",r.submitted&&r.f.name.errors),f.xb(4),f.Vb("ngClass",f.Yb(13,j,r.submitted&&r.f.secondName.errors)),f.xb(1),f.Vb("ngIf",r.submitted&&r.f.secondName.errors),f.xb(4),f.Vb("ngClass",f.Yb(15,j,r.submitted&&r.f.username.errors)),f.xb(1),f.Vb("ngIf",r.submitted&&r.f.username.errors),f.xb(4),f.Vb("ngClass",f.Yb(17,j,r.submitted&&r.f.password.errors)),f.xb(1),f.Vb("ngIf",r.submitted&&r.f.password.errors),f.xb(2),f.Vb("disabled",r.loading),f.xb(1),f.Vb("ngIf",r.loading))},directives:[s.i,s.f,s.d,s.a,s.e,s.c,b.h,b.j,a.e],encapsulation:2}),N)}]}],G=((P=function e(){n(this,e)}).\u0275mod=f.Gb({type:P}),P.\u0275inj=f.Fb({factory:function(e){return new(e||P)},imports:[[a.f.forChild(B)],a.f]}),P),Y=((J=function e(){n(this,e)}).\u0275mod=f.Gb({type:J}),J.\u0275inj=f.Fb({factory:function(e){return new(e||J)},imports:[[b.b,s.g,G]]}),J)}}])}();