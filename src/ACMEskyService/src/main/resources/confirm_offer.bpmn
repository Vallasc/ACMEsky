<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:camunda="http://camunda.org/schema/1.0/bpmn" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" id="Definitions_0b8mwhi" targetNamespace="http://bpmn.io/schema/bpmn" exporter="Camunda Modeler" exporterVersion="4.3.0">
  <bpmn:collaboration id="Collaboration_0m8rgth">
    <bpmn:participant id="Participant_14wuqr7" name="ACMESky" processRef="PayOffer" />
  </bpmn:collaboration>
  <bpmn:process id="PayOffer" isExecutable="true" camunda:isStartableInTasklist="false">
    <bpmn:sequenceFlow id="Flow_1p3juxv" name="error" sourceRef="Gateway_1we9go3" targetRef="Event_1mwbe45">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${PremiumServiceError==true}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_1o7sh4u" sourceRef="Activity_1fxpj1m" targetRef="Gateway_1we9go3" />
    <bpmn:sequenceFlow id="Flow_0b659mn" sourceRef="Activity_0b5tue6" targetRef="Event_1hfv2g6" />
    <bpmn:sequenceFlow id="Flow_15lwdfk" sourceRef="Activity_0v0drtf" targetRef="Activity_0b5tue6" />
    <bpmn:sequenceFlow id="Flow_0uomavg" sourceRef="Gateway_1we9go3" targetRef="Activity_0v0drtf">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${PremiumServiceError==false}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_0n9gwz1" sourceRef="Activity_0rytust" targetRef="Activity_1fxpj1m" />
    <bpmn:sequenceFlow id="Flow_0ftmofu" sourceRef="Activity_1qbxywg" targetRef="Activity_0rytust" />
    <bpmn:sequenceFlow id="Flow_0isli19" sourceRef="Event_0fgg3jy" targetRef="Event_0b11mza" />
    <bpmn:sequenceFlow id="Flow_145aoik" sourceRef="Event_1hbwfmo" targetRef="Event_1uxcau0" />
    <bpmn:sequenceFlow id="Flow_02g1lhk" sourceRef="Activity_1vlshwr" targetRef="Activity_1qbxywg" />
    <bpmn:sequenceFlow id="Flow_0yho0zi" sourceRef="Event_1ia8me7" targetRef="Activity_1vlshwr" />
    <bpmn:boundaryEvent id="Event_0fgg3jy" name="Error" attachedToRef="Activity_0rytust">
      <bpmn:outgoing>Flow_0isli19</bpmn:outgoing>
      <bpmn:errorEventDefinition id="ErrorEventDefinition_0vr0n4w" errorRef="Error_04mzz6e" />
    </bpmn:boundaryEvent>
    <bpmn:boundaryEvent id="Event_1hbwfmo" name="Error" attachedToRef="Activity_1qbxywg">
      <bpmn:outgoing>Flow_145aoik</bpmn:outgoing>
      <bpmn:errorEventDefinition id="ErrorEventDefinition_0kwqzlh" errorRef="Error_0i2w9s7" />
    </bpmn:boundaryEvent>
    <bpmn:subProcess id="Activity_1fxpj1m" name="Premium service">
      <bpmn:incoming>Flow_0n9gwz1</bpmn:incoming>
      <bpmn:outgoing>Flow_1o7sh4u</bpmn:outgoing>
      <bpmn:startEvent id="Event_06791mf">
        <bpmn:outgoing>Flow_0de1owl</bpmn:outgoing>
      </bpmn:startEvent>
      <bpmn:sendTask id="Activity_1qipxev" name="Compute distance" camunda:delegateExpression="${computeDistanceDelegate}">
        <bpmn:incoming>Flow_03lkr7i</bpmn:incoming>
        <bpmn:outgoing>Flow_1d8fl10</bpmn:outgoing>
      </bpmn:sendTask>
      <bpmn:exclusiveGateway id="Gateway_1l6slsz">
        <bpmn:incoming>Flow_10kzf28</bpmn:incoming>
        <bpmn:outgoing>Flow_03lkr7i</bpmn:outgoing>
        <bpmn:outgoing>Flow_151cxm4</bpmn:outgoing>
      </bpmn:exclusiveGateway>
      <bpmn:serviceTask id="Activity_1yoi2sq" name="Check price" camunda:delegateExpression="${checkPriceDelegate}">
        <bpmn:incoming>Flow_0de1owl</bpmn:incoming>
        <bpmn:outgoing>Flow_10kzf28</bpmn:outgoing>
      </bpmn:serviceTask>
      <bpmn:exclusiveGateway id="Gateway_1c27h6v">
        <bpmn:incoming>Flow_1d8fl10</bpmn:incoming>
        <bpmn:outgoing>Flow_0u9djzn</bpmn:outgoing>
        <bpmn:outgoing>Flow_0f56f0w</bpmn:outgoing>
      </bpmn:exclusiveGateway>
      <bpmn:sendTask id="Activity_0np8vaz" name="Ask for rent" camunda:delegateExpression="${askRentDelegate}">
        <bpmn:incoming>Flow_0u9djzn</bpmn:incoming>
        <bpmn:outgoing>Flow_03xa059</bpmn:outgoing>
        <bpmn:multiInstanceLoopCharacteristics isSequential="true">
          <bpmn:loopCardinality xsi:type="bpmn:tFormalExpression">2</bpmn:loopCardinality>
        </bpmn:multiInstanceLoopCharacteristics>
      </bpmn:sendTask>
      <bpmn:serviceTask id="Activity_0vdwdt0" name="Apply premium service" camunda:delegateExpression="${applyPremiumDelegate}">
        <bpmn:incoming>Flow_03xa059</bpmn:incoming>
        <bpmn:outgoing>Flow_1t28okj</bpmn:outgoing>
      </bpmn:serviceTask>
      <bpmn:exclusiveGateway id="Gateway_1ikcmi2">
        <bpmn:incoming>Flow_1t28okj</bpmn:incoming>
        <bpmn:incoming>Flow_0f56f0w</bpmn:incoming>
        <bpmn:incoming>Flow_151cxm4</bpmn:incoming>
        <bpmn:outgoing>Flow_1lzvokf</bpmn:outgoing>
      </bpmn:exclusiveGateway>
      <bpmn:endEvent id="Event_03wgnyt">
        <bpmn:incoming>Flow_1lzvokf</bpmn:incoming>
      </bpmn:endEvent>
      <bpmn:endEvent id="Event_0v31cke">
        <bpmn:incoming>Flow_0vbdhpo</bpmn:incoming>
      </bpmn:endEvent>
      <bpmn:boundaryEvent id="Event_014k1dz" attachedToRef="Activity_1qipxev">
        <bpmn:outgoing>Flow_0vbdhpo</bpmn:outgoing>
        <bpmn:errorEventDefinition id="ErrorEventDefinition_01jkv3y" errorRef="Error_0y9hxp1" />
      </bpmn:boundaryEvent>
      <bpmn:sequenceFlow id="Flow_0vbdhpo" sourceRef="Event_014k1dz" targetRef="Event_0v31cke" />
      <bpmn:sequenceFlow id="Flow_03lkr7i" name="Price &#62; 1000" sourceRef="Gateway_1l6slsz" targetRef="Activity_1qipxev">
        <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${generatedOffer.getTotalPrice()&gt;1000}</bpmn:conditionExpression>
      </bpmn:sequenceFlow>
      <bpmn:sequenceFlow id="Flow_1d8fl10" sourceRef="Activity_1qipxev" targetRef="Gateway_1c27h6v" />
      <bpmn:sequenceFlow id="Flow_10kzf28" sourceRef="Activity_1yoi2sq" targetRef="Gateway_1l6slsz" />
      <bpmn:sequenceFlow id="Flow_0u9djzn" name="Distance &#60; 30 Km" sourceRef="Gateway_1c27h6v" targetRef="Activity_0np8vaz">
        <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${userDistance&lt;30000}</bpmn:conditionExpression>
      </bpmn:sequenceFlow>
      <bpmn:sequenceFlow id="Flow_1t28okj" sourceRef="Activity_0vdwdt0" targetRef="Gateway_1ikcmi2" />
      <bpmn:sequenceFlow id="Flow_0de1owl" sourceRef="Event_06791mf" targetRef="Activity_1yoi2sq" />
      <bpmn:sequenceFlow id="Flow_1lzvokf" sourceRef="Gateway_1ikcmi2" targetRef="Event_03wgnyt" />
      <bpmn:sequenceFlow id="Flow_03xa059" sourceRef="Activity_0np8vaz" targetRef="Activity_0vdwdt0" />
      <bpmn:sequenceFlow id="Flow_0f56f0w" name="Distance &#62;= 30Km" sourceRef="Gateway_1c27h6v" targetRef="Gateway_1ikcmi2">
        <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${userDistance&gt;=30000}</bpmn:conditionExpression>
      </bpmn:sequenceFlow>
      <bpmn:sequenceFlow id="Flow_151cxm4" name="Price &#60;= 1000" sourceRef="Gateway_1l6slsz" targetRef="Gateway_1ikcmi2">
        <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${generatedOffer.getTotalPrice()&lt;=1000}</bpmn:conditionExpression>
      </bpmn:sequenceFlow>
      <bpmn:textAnnotation id="TextAnnotation_0je5duy">
        <bpmn:text>Deve essere sia per l'andata che per il ritorno</bpmn:text>
      </bpmn:textAnnotation>
    </bpmn:subProcess>
    <bpmn:subProcess id="Activity_0rytust" name="Booking and payment">
      <bpmn:incoming>Flow_0ftmofu</bpmn:incoming>
      <bpmn:outgoing>Flow_0n9gwz1</bpmn:outgoing>
      <bpmn:startEvent id="Event_1mjbvrg">
        <bpmn:outgoing>Flow_0vdr5kn</bpmn:outgoing>
      </bpmn:startEvent>
      <bpmn:intermediateCatchEvent id="Event_019tsum" name="Payment message">
        <bpmn:incoming>Flow_15oaxfd</bpmn:incoming>
        <bpmn:outgoing>Flow_1m33cnl</bpmn:outgoing>
        <bpmn:messageEventDefinition id="MessageEventDefinition_0s6shrr" messageRef="Message_1ulfszl" />
      </bpmn:intermediateCatchEvent>
      <bpmn:sendTask id="Activity_0ngosw9" name="Book tickets" camunda:delegateExpression="#{bookTicketsDelegate}">
        <bpmn:incoming>Flow_1m33cnl</bpmn:incoming>
        <bpmn:outgoing>Flow_0c4kuiu</bpmn:outgoing>
      </bpmn:sendTask>
      <bpmn:eventBasedGateway id="Gateway_1sv98qp">
        <bpmn:incoming>Flow_0vdr5kn</bpmn:incoming>
        <bpmn:outgoing>Flow_1sol9a4</bpmn:outgoing>
        <bpmn:outgoing>Flow_15oaxfd</bpmn:outgoing>
      </bpmn:eventBasedGateway>
      <bpmn:sendTask id="Activity_0lm0eqg" name="Ask bank for payment link" camunda:delegateExpression="#{askPaymentLinkDelegate}">
        <bpmn:incoming>Flow_0c4kuiu</bpmn:incoming>
        <bpmn:outgoing>Flow_12gmgrb</bpmn:outgoing>
      </bpmn:sendTask>
      <bpmn:sendTask id="Activity_0h6imiw" name="Send error" camunda:delegateExpression="#{sendErrorDelegate}">
        <bpmn:incoming>Flow_0op98kr</bpmn:incoming>
        <bpmn:outgoing>Flow_078rqz4</bpmn:outgoing>
      </bpmn:sendTask>
      <bpmn:sendTask id="Activity_0xudono" name="Unbook tickets" isForCompensation="true" camunda:delegateExpression="#{unbookTicketsDelegate}" />
      <bpmn:intermediateCatchEvent id="Event_00wv6yl" name="5 min">
        <bpmn:incoming>Flow_1sol9a4</bpmn:incoming>
        <bpmn:outgoing>Flow_1ku6q45</bpmn:outgoing>
        <bpmn:timerEventDefinition id="TimerEventDefinition_054glz3">
          <bpmn:timeDuration xsi:type="bpmn:tFormalExpression">P5M</bpmn:timeDuration>
        </bpmn:timerEventDefinition>
      </bpmn:intermediateCatchEvent>
      <bpmn:endEvent id="Event_1bpuo5n">
        <bpmn:incoming>Flow_1ku6q45</bpmn:incoming>
      </bpmn:endEvent>
      <bpmn:sendTask id="Activity_1gyrhdh" name="Send error" camunda:delegateExpression="#{sendErrorDelegate}">
        <bpmn:incoming>Flow_02yj97f</bpmn:incoming>
        <bpmn:outgoing>Flow_1st1bdu</bpmn:outgoing>
      </bpmn:sendTask>
      <bpmn:sendTask id="Activity_05b8v7i" name="Emit coupon" isForCompensation="true" camunda:delegateExpression="#{emitCouponDelegate}" />
      <bpmn:intermediateThrowEvent id="Event_0c5mlgq" name="Compensate tickets">
        <bpmn:incoming>Flow_1st1bdu</bpmn:incoming>
        <bpmn:outgoing>Flow_0duj1j5</bpmn:outgoing>
        <bpmn:compensateEventDefinition id="CompensateEventDefinition_1y6sqlv" activityRef="Activity_0ngosw9" />
      </bpmn:intermediateThrowEvent>
      <bpmn:endEvent id="Event_1ce7tcc">
        <bpmn:incoming>Flow_078rqz4</bpmn:incoming>
      </bpmn:endEvent>
      <bpmn:sendTask id="Activity_1leclv4" name="Send payment link" camunda:delegateExpression="#{sendPaymentLinkDelegate}">
        <bpmn:incoming>Flow_12gmgrb</bpmn:incoming>
        <bpmn:outgoing>Flow_1i76rch</bpmn:outgoing>
      </bpmn:sendTask>
      <bpmn:eventBasedGateway id="Gateway_12hpm9b">
        <bpmn:incoming>Flow_1i76rch</bpmn:incoming>
        <bpmn:outgoing>Flow_1m1gsgi</bpmn:outgoing>
        <bpmn:outgoing>Flow_0p0qgms</bpmn:outgoing>
        <bpmn:outgoing>Flow_19yvdog</bpmn:outgoing>
      </bpmn:eventBasedGateway>
      <bpmn:intermediateCatchEvent id="Event_1tc6m00" name="Payment failed">
        <bpmn:incoming>Flow_19yvdog</bpmn:incoming>
        <bpmn:outgoing>Flow_1a0smhe</bpmn:outgoing>
        <bpmn:messageEventDefinition id="MessageEventDefinition_0eboypi" messageRef="Message_0jdc03b" />
      </bpmn:intermediateCatchEvent>
      <bpmn:intermediateCatchEvent id="Event_04yj9z1" name="Payment success">
        <bpmn:incoming>Flow_0p0qgms</bpmn:incoming>
        <bpmn:outgoing>Flow_1pgenut</bpmn:outgoing>
        <bpmn:messageEventDefinition id="MessageEventDefinition_13cr945" messageRef="Message_1ud7nif" />
      </bpmn:intermediateCatchEvent>
      <bpmn:intermediateCatchEvent id="Event_0fdkzvs" name="5 min">
        <bpmn:incoming>Flow_1m1gsgi</bpmn:incoming>
        <bpmn:outgoing>Flow_0tf4uab</bpmn:outgoing>
        <bpmn:timerEventDefinition id="TimerEventDefinition_0klnuuo">
          <bpmn:timeDuration xsi:type="bpmn:tFormalExpression">P5M</bpmn:timeDuration>
        </bpmn:timerEventDefinition>
      </bpmn:intermediateCatchEvent>
      <bpmn:intermediateThrowEvent id="Event_01rbnzu" name="Compensate tickets">
        <bpmn:incoming>Flow_1a0smhe</bpmn:incoming>
        <bpmn:outgoing>Flow_0w8njfd</bpmn:outgoing>
        <bpmn:compensateEventDefinition id="CompensateEventDefinition_058fb9y" activityRef="Activity_0ngosw9" />
      </bpmn:intermediateThrowEvent>
      <bpmn:intermediateThrowEvent id="Event_144rhvv" name="Compensate tickets">
        <bpmn:incoming>Flow_0tf4uab</bpmn:incoming>
        <bpmn:outgoing>Flow_18g04n3</bpmn:outgoing>
        <bpmn:compensateEventDefinition id="CompensateEventDefinition_06bnuxc" activityRef="Activity_0ngosw9" />
      </bpmn:intermediateThrowEvent>
      <bpmn:intermediateThrowEvent id="Event_0zzcj4a" name="Compensate payment">
        <bpmn:incoming>Flow_18g04n3</bpmn:incoming>
        <bpmn:outgoing>Flow_0ksqt3j</bpmn:outgoing>
        <bpmn:compensateEventDefinition id="CompensateEventDefinition_1xo7mo4" activityRef="Activity_0lm0eqg" />
      </bpmn:intermediateThrowEvent>
      <bpmn:endEvent id="Event_0s1jg60">
        <bpmn:incoming>Flow_1pgenut</bpmn:incoming>
      </bpmn:endEvent>
      <bpmn:endEvent id="Event_14b097h">
        <bpmn:incoming>Flow_0w8njfd</bpmn:incoming>
        <bpmn:errorEventDefinition id="ErrorEventDefinition_1xiop0e" errorRef="Error_04mzz6e" />
      </bpmn:endEvent>
      <bpmn:endEvent id="Event_0ak7yk2">
        <bpmn:incoming>Flow_0ksqt3j</bpmn:incoming>
        <bpmn:errorEventDefinition id="ErrorEventDefinition_1s7cou9" errorRef="Error_04mzz6e" />
      </bpmn:endEvent>
      <bpmn:boundaryEvent id="Event_0fotios" attachedToRef="Activity_0ngosw9">
        <bpmn:compensateEventDefinition id="CompensateEventDefinition_1m2pf25" />
      </bpmn:boundaryEvent>
      <bpmn:boundaryEvent id="Event_1mh2mra" name="Ticket error" attachedToRef="Activity_0ngosw9">
        <bpmn:outgoing>Flow_0op98kr</bpmn:outgoing>
        <bpmn:errorEventDefinition id="ErrorEventDefinition_0tg7cgp" errorRef="Error_1ejtrnx" />
      </bpmn:boundaryEvent>
      <bpmn:boundaryEvent id="Event_04wwezx" attachedToRef="Activity_0lm0eqg">
        <bpmn:outgoing>Flow_02yj97f</bpmn:outgoing>
        <bpmn:errorEventDefinition id="ErrorEventDefinition_0up0t40" />
      </bpmn:boundaryEvent>
      <bpmn:boundaryEvent id="Event_15bji2c" attachedToRef="Activity_0lm0eqg">
        <bpmn:compensateEventDefinition id="CompensateEventDefinition_1xqowom" />
      </bpmn:boundaryEvent>
      <bpmn:sequenceFlow id="Flow_0ksqt3j" sourceRef="Event_0zzcj4a" targetRef="Event_0ak7yk2" />
      <bpmn:sequenceFlow id="Flow_18g04n3" sourceRef="Event_144rhvv" targetRef="Event_0zzcj4a" />
      <bpmn:sequenceFlow id="Flow_0w8njfd" sourceRef="Event_01rbnzu" targetRef="Event_14b097h" />
      <bpmn:sequenceFlow id="Flow_0tf4uab" sourceRef="Event_0fdkzvs" targetRef="Event_144rhvv" />
      <bpmn:sequenceFlow id="Flow_1pgenut" sourceRef="Event_04yj9z1" targetRef="Event_0s1jg60" />
      <bpmn:sequenceFlow id="Flow_1a0smhe" sourceRef="Event_1tc6m00" targetRef="Event_01rbnzu" />
      <bpmn:sequenceFlow id="Flow_1m1gsgi" sourceRef="Gateway_12hpm9b" targetRef="Event_0fdkzvs" />
      <bpmn:sequenceFlow id="Flow_0p0qgms" sourceRef="Gateway_12hpm9b" targetRef="Event_04yj9z1" />
      <bpmn:sequenceFlow id="Flow_19yvdog" sourceRef="Gateway_12hpm9b" targetRef="Event_1tc6m00" />
      <bpmn:sequenceFlow id="Flow_1st1bdu" sourceRef="Activity_1gyrhdh" targetRef="Event_0c5mlgq" />
      <bpmn:sequenceFlow id="Flow_02yj97f" sourceRef="Event_04wwezx" targetRef="Activity_1gyrhdh" />
      <bpmn:sequenceFlow id="Flow_1ku6q45" sourceRef="Event_00wv6yl" targetRef="Event_1bpuo5n" />
      <bpmn:sequenceFlow id="Flow_1sol9a4" sourceRef="Gateway_1sv98qp" targetRef="Event_00wv6yl" />
      <bpmn:sequenceFlow id="Flow_078rqz4" sourceRef="Activity_0h6imiw" targetRef="Event_1ce7tcc" />
      <bpmn:sequenceFlow id="Flow_0op98kr" sourceRef="Event_1mh2mra" targetRef="Activity_0h6imiw" />
      <bpmn:sequenceFlow id="Flow_1m33cnl" sourceRef="Event_019tsum" targetRef="Activity_0ngosw9" />
      <bpmn:sequenceFlow id="Flow_15oaxfd" sourceRef="Gateway_1sv98qp" targetRef="Event_019tsum" />
      <bpmn:sequenceFlow id="Flow_0vdr5kn" sourceRef="Event_1mjbvrg" targetRef="Gateway_1sv98qp" />
      <bpmn:sequenceFlow id="Flow_1i76rch" sourceRef="Activity_1leclv4" targetRef="Gateway_12hpm9b" />
      <bpmn:sequenceFlow id="Flow_12gmgrb" sourceRef="Activity_0lm0eqg" targetRef="Activity_1leclv4" />
      <bpmn:sequenceFlow id="Flow_0c4kuiu" sourceRef="Activity_0ngosw9" targetRef="Activity_0lm0eqg" />
      <bpmn:endEvent id="Event_1qmwyyg">
        <bpmn:incoming>Flow_0duj1j5</bpmn:incoming>
      </bpmn:endEvent>
      <bpmn:sequenceFlow id="Flow_0duj1j5" sourceRef="Event_0c5mlgq" targetRef="Event_1qmwyyg" />
      <bpmn:association id="Association_0b4kybz" associationDirection="One" sourceRef="Event_0fotios" targetRef="Activity_0xudono" />
      <bpmn:association id="Association_1l124g1" associationDirection="One" sourceRef="Event_15bji2c" targetRef="Activity_05b8v7i" />
    </bpmn:subProcess>
    <bpmn:endEvent id="Event_1uxcau0" name="Exit">
      <bpmn:incoming>Flow_145aoik</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:subProcess id="Activity_1qbxywg" name="Check offer">
      <bpmn:incoming>Flow_02g1lhk</bpmn:incoming>
      <bpmn:outgoing>Flow_0ftmofu</bpmn:outgoing>
      <bpmn:startEvent id="Event_1y138le">
        <bpmn:outgoing>Flow_15ey7dv</bpmn:outgoing>
      </bpmn:startEvent>
      <bpmn:exclusiveGateway id="Gateway_1qj5yon" name="Valid token?">
        <bpmn:incoming>Flow_15ey7dv</bpmn:incoming>
        <bpmn:outgoing>Flow_1ifywnr</bpmn:outgoing>
        <bpmn:outgoing>Flow_0u2z9cw</bpmn:outgoing>
      </bpmn:exclusiveGateway>
      <bpmn:exclusiveGateway id="Gateway_13dfhiy" name="Offer expired?">
        <bpmn:incoming>Flow_0u2z9cw</bpmn:incoming>
        <bpmn:outgoing>Flow_0jm0736</bpmn:outgoing>
        <bpmn:outgoing>Flow_0r1g7iu</bpmn:outgoing>
      </bpmn:exclusiveGateway>
      <bpmn:endEvent id="Event_1bvrgar">
        <bpmn:incoming>Flow_0yv07w3</bpmn:incoming>
      </bpmn:endEvent>
      <bpmn:sendTask id="Activity_0vqkz67" name="Send success" camunda:delegateExpression="#{sendOfferResponseDelegate}">
        <bpmn:incoming>Flow_0jm0736</bpmn:incoming>
        <bpmn:outgoing>Flow_0yv07w3</bpmn:outgoing>
      </bpmn:sendTask>
      <bpmn:sendTask id="Activity_0jn957p" name="Send error" camunda:delegateExpression="#{sendOfferResponseDelegate}">
        <bpmn:incoming>Flow_1ifywnr</bpmn:incoming>
        <bpmn:incoming>Flow_0r1g7iu</bpmn:incoming>
        <bpmn:outgoing>Flow_1il1922</bpmn:outgoing>
      </bpmn:sendTask>
      <bpmn:endEvent id="Event_0jm5ix8" name="Offer error">
        <bpmn:incoming>Flow_1il1922</bpmn:incoming>
        <bpmn:errorEventDefinition id="ErrorEventDefinition_0eewidq" errorRef="Error_06xfuov" />
      </bpmn:endEvent>
      <bpmn:sequenceFlow id="Flow_1il1922" sourceRef="Activity_0jn957p" targetRef="Event_0jm5ix8" />
      <bpmn:sequenceFlow id="Flow_0yv07w3" sourceRef="Activity_0vqkz67" targetRef="Event_1bvrgar" />
      <bpmn:sequenceFlow id="Flow_0jm0736" name="No" sourceRef="Gateway_13dfhiy" targetRef="Activity_0vqkz67">
        <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${isOfferExpired== false}</bpmn:conditionExpression>
      </bpmn:sequenceFlow>
      <bpmn:sequenceFlow id="Flow_1ifywnr" name="No" sourceRef="Gateway_1qj5yon" targetRef="Activity_0jn957p">
        <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${isValidToken== false}</bpmn:conditionExpression>
      </bpmn:sequenceFlow>
      <bpmn:sequenceFlow id="Flow_0u2z9cw" name="Yes" sourceRef="Gateway_1qj5yon" targetRef="Gateway_13dfhiy">
        <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${isValidToken== true}</bpmn:conditionExpression>
      </bpmn:sequenceFlow>
      <bpmn:sequenceFlow id="Flow_15ey7dv" sourceRef="Event_1y138le" targetRef="Gateway_1qj5yon" />
      <bpmn:sequenceFlow id="Flow_0r1g7iu" name="Yes" sourceRef="Gateway_13dfhiy" targetRef="Activity_0jn957p">
        <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${isOfferExpired== true}</bpmn:conditionExpression>
      </bpmn:sequenceFlow>
    </bpmn:subProcess>
    <bpmn:endEvent id="Event_1hfv2g6">
      <bpmn:incoming>Flow_0b659mn</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:serviceTask id="Activity_0v0drtf" name="Change offer state" camunda:delegateExpression="#{changeOfferStateDelegate}">
      <bpmn:incoming>Flow_0uomavg</bpmn:incoming>
      <bpmn:outgoing>Flow_15lwdfk</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:endEvent id="Event_1mwbe45">
      <bpmn:incoming>Flow_1p3juxv</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:exclusiveGateway id="Gateway_1we9go3">
      <bpmn:incoming>Flow_1o7sh4u</bpmn:incoming>
      <bpmn:outgoing>Flow_0uomavg</bpmn:outgoing>
      <bpmn:outgoing>Flow_1p3juxv</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:endEvent id="Event_0b11mza" name="Exit">
      <bpmn:incoming>Flow_0isli19</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:startEvent id="Event_1ia8me7" name="Token received">
      <bpmn:outgoing>Flow_0yho0zi</bpmn:outgoing>
      <bpmn:messageEventDefinition id="MessageEventDefinition_0ftbh4f" messageRef="Message_0kto6xk" />
    </bpmn:startEvent>
    <bpmn:serviceTask id="Activity_1vlshwr" name="Retreive offer" camunda:delegateExpression="#{retrieveOfferDelegate}">
      <bpmn:incoming>Flow_0yho0zi</bpmn:incoming>
      <bpmn:outgoing>Flow_02g1lhk</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:serviceTask id="Activity_0b5tue6" name="Prepare Tickets" camunda:delegateExpression="#{prepareTicketsDelegate}">
      <bpmn:incoming>Flow_15lwdfk</bpmn:incoming>
      <bpmn:outgoing>Flow_0b659mn</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:boundaryEvent id="Event_16ryhg8" attachedToRef="Activity_1fxpj1m">
      <bpmn:outgoing>Flow_1ycfufx</bpmn:outgoing>
      <bpmn:errorEventDefinition id="ErrorEventDefinition_16twt7i" errorRef="Error_0y9hxp1" />
    </bpmn:boundaryEvent>
    <bpmn:endEvent id="Event_1jiwtuo" name="Exit">
      <bpmn:incoming>Flow_1ycfufx</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:sequenceFlow id="Flow_1ycfufx" sourceRef="Event_16ryhg8" targetRef="Event_1jiwtuo" />
  </bpmn:process>
  <bpmn:message id="Message_0kto6xk" name="StartPayOffer" />
  <bpmn:error id="Error_06xfuov" name="CheckOfferError" errorCode="errorOffer" />
  <bpmn:error id="Error_0i2w9s7" name="CheckOfferError" errorCode="errorOffer" />
  <bpmn:message id="Message_1ulfszl" name="PaymentRequest" />
  <bpmn:error id="Error_1ejtrnx" name="sendTicketError" errorCode="sendTicketError" />
  <bpmn:error id="Error_04mzz6e" name="BookPaymentError" errorCode="BookPaymentError" />
  <bpmn:message id="Message_0jdc03b" name="PaymentFailed" />
  <bpmn:message id="Message_1ud7nif" name="PaymentSuccess" />
  <bpmn:error id="Error_0y9hxp1" name="distanceServiceError" errorCode="distanceServiceError" />
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Collaboration_0m8rgth">
      <bpmndi:BPMNShape id="Participant_14wuqr7_di" bpmnElement="Participant_14wuqr7" isHorizontal="true">
        <dc:Bounds x="160" y="80" width="4970" height="360" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_0yho0zi_di" bpmnElement="Flow_0yho0zi">
        <di:waypoint x="268" y="250" />
        <di:waypoint x="350" y="250" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_02g1lhk_di" bpmnElement="Flow_02g1lhk">
        <di:waypoint x="450" y="250" />
        <di:waypoint x="510" y="250" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_145aoik_di" bpmnElement="Flow_145aoik">
        <di:waypoint x="1111" y="130" />
        <di:waypoint x="1152" y="130" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0isli19_di" bpmnElement="Flow_0isli19">
        <di:waypoint x="2828" y="130" />
        <di:waypoint x="2882" y="130" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0ftmofu_di" bpmnElement="Flow_0ftmofu">
        <di:waypoint x="1093" y="260" />
        <di:waypoint x="1270" y="260" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0n9gwz1_di" bpmnElement="Flow_0n9gwz1">
        <di:waypoint x="2810" y="260" />
        <di:waypoint x="3020" y="260" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0uomavg_di" bpmnElement="Flow_0uomavg">
        <di:waypoint x="4605" y="260" />
        <di:waypoint x="4690" y="260" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_15lwdfk_di" bpmnElement="Flow_15lwdfk">
        <di:waypoint x="4790" y="260" />
        <di:waypoint x="4880" y="260" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0b659mn_di" bpmnElement="Flow_0b659mn">
        <di:waypoint x="4980" y="260" />
        <di:waypoint x="5052" y="260" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1o7sh4u_di" bpmnElement="Flow_1o7sh4u">
        <di:waypoint x="4480" y="260" />
        <di:waypoint x="4555" y="260" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1p3juxv_di" bpmnElement="Flow_1p3juxv">
        <di:waypoint x="4580" y="285" />
        <di:waypoint x="4580" y="332" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="4588" y="295" width="24" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1ycfufx_di" bpmnElement="Flow_1ycfufx">
        <di:waypoint x="4498" y="150" />
        <di:waypoint x="4552" y="150" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="Activity_1tnwdr3_di" bpmnElement="Activity_0b5tue6">
        <dc:Bounds x="4880" y="220" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1jiwtuo_di" bpmnElement="Event_1jiwtuo">
        <dc:Bounds x="4552" y="132" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="4560" y="175" width="20" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1fxpj1m_di" bpmnElement="Activity_1fxpj1m" isExpanded="true">
        <dc:Bounds x="3020" y="100" width="1460" height="320" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_151cxm4_di" bpmnElement="Flow_151cxm4">
        <di:waypoint x="3320" y="235" />
        <di:waypoint x="3320" y="150" />
        <di:waypoint x="4330" y="150" />
        <di:waypoint x="4330" y="235" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="3330" y="163" width="69" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0f56f0w_di" bpmnElement="Flow_0f56f0w">
        <di:waypoint x="3650" y="325" />
        <di:waypoint x="3650" y="220" />
        <di:waypoint x="4250" y="220" />
        <di:waypoint x="4250" y="260" />
        <di:waypoint x="4305" y="260" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="3701" y="226" width="59" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_03xa059_di" bpmnElement="Flow_03xa059">
        <di:waypoint x="3950" y="350" />
        <di:waypoint x="4140" y="350" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1lzvokf_di" bpmnElement="Flow_1lzvokf">
        <di:waypoint x="4355" y="260" />
        <di:waypoint x="4412" y="260" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0de1owl_di" bpmnElement="Flow_0de1owl">
        <di:waypoint x="3078" y="260" />
        <di:waypoint x="3130" y="260" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1t28okj_di" bpmnElement="Flow_1t28okj">
        <di:waypoint x="4240" y="350" />
        <di:waypoint x="4330" y="350" />
        <di:waypoint x="4330" y="285" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0u9djzn_di" bpmnElement="Flow_0u9djzn">
        <di:waypoint x="3675" y="350" />
        <di:waypoint x="3850" y="350" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="3671" y="332" width="88" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_10kzf28_di" bpmnElement="Flow_10kzf28">
        <di:waypoint x="3230" y="260" />
        <di:waypoint x="3295" y="260" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1d8fl10_di" bpmnElement="Flow_1d8fl10">
        <di:waypoint x="3520" y="350" />
        <di:waypoint x="3625" y="350" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_03lkr7i_di" bpmnElement="Flow_03lkr7i">
        <di:waypoint x="3320" y="285" />
        <di:waypoint x="3320" y="350" />
        <di:waypoint x="3420" y="350" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="3340" y="323" width="63" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0vbdhpo_di" bpmnElement="Flow_0vbdhpo">
        <di:waypoint x="3520" y="292" />
        <di:waypoint x="3520" y="230" />
        <di:waypoint x="3572" y="230" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="Event_06791mf_di" bpmnElement="Event_06791mf">
        <dc:Bounds x="3042" y="242" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1qipxev_di" bpmnElement="Activity_1qipxev">
        <dc:Bounds x="3420" y="310" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_1l6slsz_di" bpmnElement="Gateway_1l6slsz" isMarkerVisible="true">
        <dc:Bounds x="3295" y="235" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1yoi2sq_di" bpmnElement="Activity_1yoi2sq">
        <dc:Bounds x="3130" y="220" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_1c27h6v_di" bpmnElement="Gateway_1c27h6v" isMarkerVisible="true">
        <dc:Bounds x="3625" y="325" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0np8vaz_di" bpmnElement="Activity_0np8vaz">
        <dc:Bounds x="3850" y="310" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0vdwdt0_di" bpmnElement="Activity_0vdwdt0">
        <dc:Bounds x="4140" y="310" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_1ikcmi2_di" bpmnElement="Gateway_1ikcmi2" isMarkerVisible="true">
        <dc:Bounds x="4305" y="235" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_03wgnyt_di" bpmnElement="Event_03wgnyt">
        <dc:Bounds x="4412" y="242" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0v31cke_di" bpmnElement="Event_0v31cke">
        <dc:Bounds x="3572" y="212" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="TextAnnotation_0je5duy_di" bpmnElement="TextAnnotation_0je5duy">
        <dc:Bounds x="3970" y="260" width="100" height="53" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_014k1dz_di" bpmnElement="Event_014k1dz">
        <dc:Bounds x="3502" y="292" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0rytust_di" bpmnElement="Activity_0rytust" isExpanded="true">
        <dc:Bounds x="1270" y="100" width="1540" height="320" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_0duj1j5_di" bpmnElement="Flow_0duj1j5">
        <di:waypoint x="2238" y="170" />
        <di:waypoint x="2292" y="170" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0c4kuiu_di" bpmnElement="Flow_0c4kuiu">
        <di:waypoint x="1660" y="260" />
        <di:waypoint x="1880" y="260" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_12gmgrb_di" bpmnElement="Flow_12gmgrb">
        <di:waypoint x="1980" y="260" />
        <di:waypoint x="2200" y="260" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1i76rch_di" bpmnElement="Flow_1i76rch">
        <di:waypoint x="2300" y="260" />
        <di:waypoint x="2375" y="260" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0vdr5kn_di" bpmnElement="Flow_0vdr5kn">
        <di:waypoint x="1338" y="260" />
        <di:waypoint x="1385" y="260" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_15oaxfd_di" bpmnElement="Flow_15oaxfd">
        <di:waypoint x="1435" y="260" />
        <di:waypoint x="1472" y="260" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1m33cnl_di" bpmnElement="Flow_1m33cnl">
        <di:waypoint x="1508" y="260" />
        <di:waypoint x="1560" y="260" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0op98kr_di" bpmnElement="Flow_0op98kr">
        <di:waypoint x="1660" y="202" />
        <di:waypoint x="1660" y="170" />
        <di:waypoint x="1720" y="170" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_078rqz4_di" bpmnElement="Flow_078rqz4">
        <di:waypoint x="1820" y="170" />
        <di:waypoint x="1882" y="170" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1sol9a4_di" bpmnElement="Flow_1sol9a4">
        <di:waypoint x="1410" y="285" />
        <di:waypoint x="1410" y="350" />
        <di:waypoint x="1472" y="350" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1ku6q45_di" bpmnElement="Flow_1ku6q45">
        <di:waypoint x="1508" y="350" />
        <di:waypoint x="1552" y="350" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_02yj97f_di" bpmnElement="Flow_02yj97f">
        <di:waypoint x="1980" y="202" />
        <di:waypoint x="1980" y="170" />
        <di:waypoint x="2050" y="170" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1st1bdu_di" bpmnElement="Flow_1st1bdu">
        <di:waypoint x="2150" y="170" />
        <di:waypoint x="2202" y="170" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_19yvdog_di" bpmnElement="Flow_19yvdog">
        <di:waypoint x="2400" y="235" />
        <di:waypoint x="2400" y="170" />
        <di:waypoint x="2422" y="170" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0p0qgms_di" bpmnElement="Flow_0p0qgms">
        <di:waypoint x="2425" y="260" />
        <di:waypoint x="2512" y="260" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1m1gsgi_di" bpmnElement="Flow_1m1gsgi">
        <di:waypoint x="2400" y="285" />
        <di:waypoint x="2400" y="350" />
        <di:waypoint x="2472" y="350" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1a0smhe_di" bpmnElement="Flow_1a0smhe">
        <di:waypoint x="2458" y="170" />
        <di:waypoint x="2512" y="170" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1pgenut_di" bpmnElement="Flow_1pgenut">
        <di:waypoint x="2548" y="260" />
        <di:waypoint x="2712" y="260" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0tf4uab_di" bpmnElement="Flow_0tf4uab">
        <di:waypoint x="2508" y="350" />
        <di:waypoint x="2562" y="350" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0w8njfd_di" bpmnElement="Flow_0w8njfd">
        <di:waypoint x="2548" y="170" />
        <di:waypoint x="2592" y="170" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_18g04n3_di" bpmnElement="Flow_18g04n3">
        <di:waypoint x="2598" y="350" />
        <di:waypoint x="2642" y="350" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0ksqt3j_di" bpmnElement="Flow_0ksqt3j">
        <di:waypoint x="2678" y="350" />
        <di:waypoint x="2722" y="350" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="Event_1mjbvrg_di" bpmnElement="Event_1mjbvrg">
        <dc:Bounds x="1302" y="242" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_019tsum_di" bpmnElement="Event_019tsum">
        <dc:Bounds x="1472" y="242" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1468" y="285" width="45" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0ngosw9_di" bpmnElement="Activity_0ngosw9">
        <dc:Bounds x="1560" y="220" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_1sv98qp_di" bpmnElement="Gateway_1sv98qp">
        <dc:Bounds x="1385" y="235" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0lm0eqg_di" bpmnElement="Activity_0lm0eqg">
        <dc:Bounds x="1880" y="220" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0h6imiw_di" bpmnElement="Activity_0h6imiw">
        <dc:Bounds x="1720" y="130" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0xudono_di" bpmnElement="Activity_0xudono">
        <dc:Bounds x="1720" y="310" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_00wv6yl_di" bpmnElement="Event_00wv6yl">
        <dc:Bounds x="1472" y="332" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1477" y="375" width="27" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1bpuo5n_di" bpmnElement="Event_1bpuo5n">
        <dc:Bounds x="1552" y="332" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1gyrhdh_di" bpmnElement="Activity_1gyrhdh">
        <dc:Bounds x="2050" y="130" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_05b8v7i_di" bpmnElement="Activity_05b8v7i">
        <dc:Bounds x="2060" y="310" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0c5mlgq_di" bpmnElement="Event_0c5mlgq">
        <dc:Bounds x="2202" y="152" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2189" y="126" width="63" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1ce7tcc_di" bpmnElement="Event_1ce7tcc">
        <dc:Bounds x="1882" y="152" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1leclv4_di" bpmnElement="Activity_1leclv4">
        <dc:Bounds x="2200" y="220" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_12hpm9b_di" bpmnElement="Gateway_12hpm9b">
        <dc:Bounds x="2375" y="235" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1tc6m00_di" bpmnElement="Event_1tc6m00">
        <dc:Bounds x="2422" y="152" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2404" y="133" width="73" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_04yj9z1_di" bpmnElement="Event_04yj9z1">
        <dc:Bounds x="2512" y="242" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2487" y="223" width="87" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0fdkzvs_di" bpmnElement="Event_0fdkzvs">
        <dc:Bounds x="2472" y="332" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2477" y="375" width="27" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_01rbnzu_di" bpmnElement="Event_01rbnzu">
        <dc:Bounds x="2512" y="152" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2499" y="126" width="63" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_144rhvv_di" bpmnElement="Event_144rhvv">
        <dc:Bounds x="2562" y="332" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2549" y="375" width="63" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0zzcj4a_di" bpmnElement="Event_0zzcj4a">
        <dc:Bounds x="2642" y="332" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2629" y="375" width="63" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0s1jg60_di" bpmnElement="Event_0s1jg60">
        <dc:Bounds x="2712" y="242" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_14b097h_di" bpmnElement="Event_14b097h">
        <dc:Bounds x="2592" y="152" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0ak7yk2_di" bpmnElement="Event_0ak7yk2">
        <dc:Bounds x="2722" y="332" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1qmwyyg_di" bpmnElement="Event_1qmwyyg">
        <dc:Bounds x="2292" y="152" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_15bji2c_di" bpmnElement="Event_15bji2c">
        <dc:Bounds x="1962" y="282" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_04wwezx_di" bpmnElement="Event_04wwezx">
        <dc:Bounds x="1962" y="202" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1mh2mra_di" bpmnElement="Event_1mh2mra">
        <dc:Bounds x="1642" y="202" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1602" y="183" width="56" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0fotios_di" bpmnElement="Event_0fotios">
        <dc:Bounds x="1642" y="282" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Association_0b4kybz_di" bpmnElement="Association_0b4kybz">
        <di:waypoint x="1660" y="318" />
        <di:waypoint x="1660" y="350" />
        <di:waypoint x="1720" y="350" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Association_1l124g1_di" bpmnElement="Association_1l124g1">
        <di:waypoint x="1980" y="318" />
        <di:waypoint x="1980" y="350" />
        <di:waypoint x="2060" y="350" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="Event_1uxcau0_di" bpmnElement="Event_1uxcau0">
        <dc:Bounds x="1152" y="112" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1161" y="158" width="19" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1qbxywg_di" bpmnElement="Activity_1qbxywg" isExpanded="true">
        <dc:Bounds x="510" y="100" width="583" height="320" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_0r1g7iu_di" bpmnElement="Flow_0r1g7iu">
        <di:waypoint x="743" y="305" />
        <di:waypoint x="743" y="200" />
        <di:waypoint x="790" y="200" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="750" y="253" width="18" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_15ey7dv_di" bpmnElement="Flow_15ey7dv">
        <di:waypoint x="566" y="250" />
        <di:waypoint x="603" y="250" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0u2z9cw_di" bpmnElement="Flow_0u2z9cw">
        <di:waypoint x="628" y="275" />
        <di:waypoint x="628" y="330" />
        <di:waypoint x="718" y="330" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="635" y="300" width="18" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1ifywnr_di" bpmnElement="Flow_1ifywnr">
        <di:waypoint x="628" y="225" />
        <di:waypoint x="628" y="170" />
        <di:waypoint x="790" y="170" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="636" y="195" width="15" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0jm0736_di" bpmnElement="Flow_0jm0736">
        <di:waypoint x="768" y="330" />
        <di:waypoint x="873" y="330" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="813" y="312" width="15" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0yv07w3_di" bpmnElement="Flow_0yv07w3">
        <di:waypoint x="973" y="330" />
        <di:waypoint x="1015" y="330" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1il1922_di" bpmnElement="Flow_1il1922">
        <di:waypoint x="890" y="190" />
        <di:waypoint x="985" y="190" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="Event_1y138le_di" bpmnElement="Event_1y138le">
        <dc:Bounds x="530" y="232" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_1qj5yon_di" bpmnElement="Gateway_1qj5yon" isMarkerVisible="true">
        <dc:Bounds x="603" y="225" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="668" y="243" width="60" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_13dfhiy_di" bpmnElement="Gateway_13dfhiy" isMarkerVisible="true">
        <dc:Bounds x="718" y="305" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="708" y="362" width="70" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1bvrgar_di" bpmnElement="Event_1bvrgar">
        <dc:Bounds x="1015" y="312" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0vqkz67_di" bpmnElement="Activity_0vqkz67">
        <dc:Bounds x="873" y="290" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0jn957p_di" bpmnElement="Activity_0jn957p">
        <dc:Bounds x="790" y="150" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0jm5ix8_di" bpmnElement="Event_0jm5ix8">
        <dc:Bounds x="985" y="172" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="978" y="215" width="51" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1hfv2g6_di" bpmnElement="Event_1hfv2g6">
        <dc:Bounds x="5052" y="242" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0v0drtf_di" bpmnElement="Activity_0v0drtf">
        <dc:Bounds x="4690" y="220" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1mwbe45_di" bpmnElement="Event_1mwbe45">
        <dc:Bounds x="4562" y="332" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_1we9go3_di" bpmnElement="Gateway_1we9go3" isMarkerVisible="true">
        <dc:Bounds x="4555" y="235" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0b11mza_di" bpmnElement="Event_0b11mza">
        <dc:Bounds x="2882" y="112" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2891" y="155" width="19" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1ia8me7_di" bpmnElement="Event_1ia8me7">
        <dc:Bounds x="232" y="232" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="214" y="273" width="74" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1vlshwr_di" bpmnElement="Activity_1vlshwr">
        <dc:Bounds x="350" y="210" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1hbwfmo_di" bpmnElement="Event_1hbwfmo">
        <dc:Bounds x="1075" y="112" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1101" y="94" width="25" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0fgg3jy_di" bpmnElement="Event_0fgg3jy">
        <dc:Bounds x="2792" y="112" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2817" y="93" width="25" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_16ryhg8_di" bpmnElement="Event_16ryhg8">
        <dc:Bounds x="4462" y="132" width="36" height="36" />
      </bpmndi:BPMNShape>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>
